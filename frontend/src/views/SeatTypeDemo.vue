<template>
  <div class="seat-type-demo">
    <h2>åº§ä½ç±»å‹å¯è§†åŒ–æ¼”ç¤º</h2>
    
    <!-- åº§ä½ç±»å‹å›¾ä¾‹ -->
    <div class="seat-legend">
      <div class="legend-item">
        <div class="legend-icon normal-seat"></div>
        <span>æ™®é€šåº§ä½</span>
      </div>
      <div class="legend-item">
        <div class="legend-icon computer-seat"></div>
        <span>ç”µè„‘åº§ä½</span>
      </div>
      <div class="legend-item">
        <div class="legend-icon quiet-seat"></div>
        <span>é™éŸ³åº§ä½</span>
      </div>
    </div>

    <!-- æŒ‰åº§ä½ç±»å‹åˆ†ç»„æ˜¾ç¤º -->
    <div class="seats-by-type">
      <!-- æ™®é€šåº§ä½åŒºåŸŸ -->
      <div class="seat-type-section">
        <h4 class="seat-type-title">
          <span class="type-icon normal-seat"></span>
          æ™®é€šåº§ä½åŒº ({{ normalSeats.length }}ä¸ª)
        </h4>
        <div class="seat-grid">
          <div
            v-for="seat in normalSeats"
            :key="seat.id"
            class="seat-item normal-seat"
            :class="{ selected: selectedSeat && selectedSeat.id === seat.id }"
            @click="selectSeat(seat)"
          >
            {{ seat.seatNumber }}
          </div>
        </div>
      </div>

      <!-- ç”µè„‘åº§ä½åŒºåŸŸ -->
      <div class="seat-type-section">
        <h4 class="seat-type-title">
          <span class="type-icon computer-seat"></span>
          ç”µè„‘åº§ä½åŒº ({{ computerSeats.length }}ä¸ª)
        </h4>
        <div class="seat-grid">
          <div
            v-for="seat in computerSeats"
            :key="seat.id"
            class="seat-item computer-seat"
            :class="{ selected: selectedSeat && selectedSeat.id === seat.id }"
            @click="selectSeat(seat)"
          >
            {{ seat.seatNumber }}
          </div>
        </div>
      </div>

      <!-- é™éŸ³åº§ä½åŒºåŸŸ -->
      <div class="seat-type-section">
        <h4 class="seat-type-title">
          <span class="type-icon quiet-seat"></span>
          é™éŸ³åº§ä½åŒº ({{ quietSeats.length }}ä¸ª)
        </h4>
        <div class="seat-grid">
          <div
            v-for="seat in quietSeats"
            :key="seat.id"
            class="seat-item quiet-seat"
            :class="{ selected: selectedSeat && selectedSeat.id === seat.id }"
            @click="selectSeat(seat)"
          >
            {{ seat.seatNumber }}
          </div>
        </div>
      </div>
    </div>

    <div v-if="selectedSeat" class="selected-info">
      <h3>å·²é€‰æ‹©åº§ä½</h3>
      <p>åº§ä½ç¼–å·: {{ selectedSeat.seatNumber }}</p>
      <p>åº§ä½ç±»å‹: {{ selectedSeat.seatType }}</p>
    </div>
  </div>
</template>

<script>
export default {
  name: 'SeatTypeDemo',
  data() {
    return {
      selectedSeat: null,
      // æ¨¡æ‹Ÿåº§ä½æ•°æ®
      availableSeats: [
        { id: 1, seatNumber: 'A01', seatType: 'æ™®é€šåº§ä½' },
        { id: 2, seatNumber: 'A02', seatType: 'æ™®é€šåº§ä½' },
        { id: 3, seatNumber: 'A03', seatType: 'ç”µè„‘åº§ä½' },
        { id: 4, seatNumber: 'A04', seatType: 'ç”µè„‘åº§ä½' },
        { id: 5, seatNumber: 'B01', seatType: 'æ™®é€šåº§ä½' },
        { id: 6, seatNumber: 'B02', seatType: 'æ™®é€šåº§ä½' },
        { id: 7, seatNumber: 'B03', seatType: 'ç”µè„‘åº§ä½' },
        { id: 8, seatNumber: 'B04', seatType: 'ç”µè„‘åº§ä½' },
        { id: 9, seatNumber: 'C01', seatType: 'æ™®é€šåº§ä½' },
        { id: 10, seatNumber: 'C02', seatType: 'æ™®é€šåº§ä½' },
        { id: 11, seatNumber: 'C03', seatType: 'ç”µè„‘åº§ä½' },
        { id: 12, seatNumber: 'C04', seatType: 'ç”µè„‘åº§ä½' },
        { id: 13, seatNumber: 'D01', seatType: 'é™éŸ³åº§ä½' },
        { id: 14, seatNumber: 'D02', seatType: 'é™éŸ³åº§ä½' },
        { id: 15, seatNumber: 'D03', seatType: 'é™éŸ³åº§ä½' },
        { id: 16, seatNumber: 'D04', seatType: 'é™éŸ³åº§ä½' }
      ]
    }
  },
  computed: {
    // æŒ‰åº§ä½ç±»å‹åˆ†ç»„
    normalSeats() {
      return this.availableSeats.filter(seat => seat.seatType === 'æ™®é€šåº§ä½')
    },
    computerSeats() {
      return this.availableSeats.filter(seat => seat.seatType === 'ç”µè„‘åº§ä½')
    },
    quietSeats() {
      return this.availableSeats.filter(seat => seat.seatType === 'é™éŸ³åº§ä½')
    }
  },
  methods: {
    selectSeat(seat) {
      this.selectedSeat = seat
    }
  }
}
</script>

<style scoped>
.seat-type-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

/* åº§ä½ç±»å‹å›¾ä¾‹ */
.seat-legend {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 20px;
  padding: 15px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: #666;
}

.legend-icon {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  border: 2px solid;
}

/* åº§ä½ç±»å‹åˆ†ç»„ */
.seats-by-type {
  margin-bottom: 20px;
}

.seat-type-section {
  margin-bottom: 25px;
}

.seat-type-title {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 0 0 15px 0;
  font-size: 16px;
  font-weight: 500;
  color: #323233;
}

.type-icon {
  width: 16px;
  height: 16px;
  border-radius: 3px;
  border: 2px solid;
}

.seat-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

.seat-item {
  border-radius: 8px;
  padding: 15px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
  font-weight: 500;
  position: relative;
  border: 2px solid;
}

/* æ™®é€šåº§ä½æ ·å¼ */
.seat-item.normal-seat {
  background: #f0f9ff;
  border-color: #0ea5e9;
  color: #0369a1;
}

.seat-item.normal-seat:hover {
  background: #e0f2fe;
  border-color: #0284c7;
}

.seat-item.normal-seat.selected {
  background: #0ea5e9;
  color: white;
  border-color: #0284c7;
}

.legend-icon.normal-seat,
.type-icon.normal-seat {
  background: #f0f9ff;
  border-color: #0ea5e9;
}

/* ç”µè„‘åº§ä½æ ·å¼ */
.seat-item.computer-seat {
  background: #f0fdf4;
  border-color: #22c55e;
  color: #15803d;
}

.seat-item.computer-seat:hover {
  background: #dcfce7;
  border-color: #16a34a;
}

.seat-item.computer-seat.selected {
  background: #22c55e;
  color: white;
  border-color: #16a34a;
}

.legend-icon.computer-seat,
.type-icon.computer-seat {
  background: #f0fdf4;
  border-color: #22c55e;
}

/* ä¸ºç”µè„‘åº§ä½æ·»åŠ å›¾æ ‡ */
.seat-item.computer-seat::before {
  content: 'ğŸ’»';
  position: absolute;
  top: 3px;
  right: 5px;
  font-size: 12px;
}

/* é™éŸ³åº§ä½æ ·å¼ */
.seat-item.quiet-seat {
  background: #fef3f2;
  border-color: #f97316;
  color: #c2410c;
}

.seat-item.quiet-seat:hover {
  background: #fed7d1;
  border-color: #ea580c;
}

.seat-item.quiet-seat.selected {
  background: #f97316;
  color: white;
  border-color: #ea580c;
}

.legend-icon.quiet-seat,
.type-icon.quiet-seat {
  background: #fef3f2;
  border-color: #f97316;
}

/* ä¸ºé™éŸ³åº§ä½æ·»åŠ å›¾æ ‡ */
.seat-item.quiet-seat::before {
  content: 'ğŸ¤«';
  position: absolute;
  top: 3px;
  right: 5px;
  font-size: 12px;
}

/* ä¸ºç”µè„‘åº§ä½æ·»åŠ å›¾æ ‡ */
.seat-item.computer-seat::before {
  content: 'ğŸ’»';
  position: absolute;
  top: 3px;
  right: 5px;
  font-size: 12px;
}

/* ä¸ºæ™®é€šåº§ä½æ·»åŠ å›¾æ ‡ */
.seat-item.normal-seat::before {
  content: 'ğŸ“š';
  position: absolute;
  top: 3px;
  right: 5px;
  font-size: 12px;
}

.selected-info {
  background: #f5f5f5;
  padding: 15px;
  border-radius: 8px;
  margin-top: 20px;
}

.selected-info h3 {
  margin: 0 0 10px 0;
  color: #333;
}

.selected-info p {
  margin: 5px 0;
  color: #666;
}
</style>